<!doctype html>
<html>
  <head>  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">
    <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDg0JRvqchNil0AduYJpPKEHfYyQ_ipjO4",
      authDomain: "somin-dipl-2022.firebaseapp.com",
      projectId: "somin-dipl-2022",
      storageBucket: "somin-dipl-2022.appspot.com",
      messagingSenderId: "889143180085",
      appId: "1:889143180085:web:996e67f8f44c496d052a7c"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/UAParser.js/1.0.2/ua-parser.min.js" integrity="sha512-M/6+/Ib+r5t/hijvSPLPO76abBzT8vlMVRSJ16JDA+NV9CGCkAjq8UD4kHN6KpHncDTRRIb0oUU01yhW+yfqng==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>    
    <script src="bible.js"></script>
    <script src="index.js"></script>
    <script src="tests.js"></script>
    <script src="table.js"></script>
  </head>


  <body>
    <div id="start-page">
      <h1 style="text-align: center;">JS/WASM benchmark</h1>

      <p class="description">
        &emsp;This is "js vs wasm" benchmark app. 
        The main purpose is to collect statistics about WASM implementation performance comparing to JS implementation for different platforms.
        This data can help developers to examine current state of WASM and make a decision use or not to use WASM.
      </p>

      <button type="button" id="start-btn" class="btn btn-primary btn-lg">Start</button>

      <div id="js-progress-container" style="margin-bottom: 20px; margin-top: 0; display: none;"> 
        <h2 style="margin-bottom: 0px">Testing JS</h2>
        <div class="progress" id="js-progress-border">
          <div class="progress-bar progress-bar-striped bg-warning"
               role="progressbar" style="width: 100%" id="js-progress">
          </div>
        </div>
      </div>

      <div id="wasm-progress-container" style="margin-bottom: 60px; display: none;">
        <h2 style="margin-bottom: 0px">Testing WASM</h2>
        <div class="progress" id="wasm-progress-border">
          <div class="progress-bar progress-bar-striped"
               role="progressbar" style="width: 100%" id="wasm-progress">
          </div>
        </div>
      </div>

      <div id="results-container" style="display: none;">
        <div><p id="js-mark-text" style="color: rgb(255, 200, 0);">JS result: 25</p>
             <p id="js-hint-text" style="text-align: center; font-size: 1.3em; margin: 0;">( )</p></div>
        <div><p id="wasm-mark-text" style="color: rgb(0, 170, 255);">WASM result: 26</p>
             <p id="wasm-hint-text" style="text-align: center; font-size: 1.3em; margin: 0;">( )</p></div>
      </div>

      <button type="button" onclick="showTable()" id="stats-btn" class="btn btn-primary btn-lg" style="display: none;">All results</button>
      <button type="button" onclick="showTable()" id="download-btn" class="btn btn-primary btn-lg" style="display: none;">Download results</button>
      <button type="button" onclick="showTable()" id="description-btn" class="btn btn-primary btn-lg" style="display: none;">See description</button>
    </div>

    <div id="table-page" style="display: none;">
      <table id="table" class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Date</th>
            <th scope="col">JS mark</th>
            <th scope="col">JS time</th>
            <th scope="col">WASM mark</th>
            <th scope="col">WASM time</th>
            <th scope="col">Browser</th>
            <th scope="col">Browser version</th>
            <th scope="col">OS</th>
            <th scope="col">OS version</th>
            <th scope="col">Vendor</th>
            <th scope="col">Model</th>
            <th scope="col">Arch</th>
          </tr>
        </thead>
        <tbody id="tablebody">
        </tbody>
      </table>
    </div>

    <script src="benchmark.js"></script>
</body>
</html>